module.exports = function convertSizes(params) {
  const sizeDict = {
    "Плавки": {
      "Мужской": [
        { "40": "2XS" },
        { "40-42": "2XS-XS" },
        { "42": "2XS-XS" },
        { "42-44": "XS" },
        { "44": "XS" },
        { "44-46": "XS-S" },
        { "46": "S" },
        { "46-48": "S-M" },
        { "48": "M" },
        { "48-50": "M-L" },
        { "50-52": "L" },
        { "52-54": "L-XL" },
        { "54": "XL" },
        { "54-56": "XL-2XL" },
        { "56": "2XL" },
        { "58": "3XL" }
      ]
    },
    "Шорты": {
      "Мужской": [
        { "40": "2XS" },
        { "40-42": "2XS" },
        { "42": "2XS-XS" },
        { "42-44": "XS" },
        { "44": "XS" },
        { "44-46": "S" },
        { "46": "S" },
        { "46-48": "M" },
        { "48": "M" },
        { "48-50": "L" },
        { "50-52": "L" },
        { "52-54": "2XL" },
        { "54": "XL" },
        { "54-56": "3XL" },
        { "56": "2XL" },
        { "58": "3XL" }
      ],
      "Женский": [
        { "38": "2XS" },
        { "40": "XS" },
        { "40-42": "XS" },
        { "42-44": "S" },
        { "44-46": "M" },
        { "46": "M" },
        { "48-50": "L" },
        { "50-52": "XL" },
        { "52": "XL" },
        { "52-54": "2XL" },
        { "54": "2XL" },
        { "56": "3XL" },
        { "58": "4XL" }
      ]
    },
    "Бриджи": {
      "Женский": [
        { "40-42": "XS" },
        { "42-44": "S" },
        { "44-46": "M" },
        { "48-50": "L" },
        { "50-52": "XL" },
        { "52-54": "2XL" }
      ]
    },
    "Шорты плавательные": {
      "Мужской": [
        { "34": "3XS" },
        { "36-38": "2XS" },
        { "40": "2XS" },
        { "40-42": "XS" },
        { "42": "2XS-XS" },
        { "42-44": "XS" },
        { "44": "XS" },
        { "44-46": "S" },
        { "46": "S" },
        { "46-48": "S-M" },
        { "48": "M" },
        { "48-50": "M" },
        { "50-52": "L" },
        { "52-54": "L" },
        { "54": "XL" },
        { "54-56": "XL-2XL" },
        { "56-58": "2XL" },
        { "56": "2XL" },
        { "58": "3XL" },
        { "60-62": "2XL" },
        { "64-66": "3XL" }
      ],
      "Женский": [
        { "38": "2XS" },
        { "40": "XS" },
        { "42-44": "S" },
        { "46": "M" },
        { "48-50": "L" },
        { "52": "XL" },
        { "54": "2XL" },
        { "56": "3XL" },
        { "58": "4XL" }
      ]
    },
    "Брюки": {
      "Женский": [
        { "38": "2XS" },
        { "38-40": "2XS-XS" },
        { "40": "XS" },
        { "40-42": "XS-S" },
        { "42": "S" },
        { "42-44": "S-M" },
        { "44": "M" },
        { "44-46": "M" },
        { "46": "M" },
        { "46-48": "M-L" },
        { "48": "L" },
        { "48-50": "L" },
        { "50": "L" },
        { "50-52": "L-XL" },
        { "52": "XL" },
        { "52-54": "XL-2XL" },
        { "54": "2XL" },
        { "54-56": "2XL" },
        { "56": "2XL" },
        { "56-58": "2XL-3XL" },
        { "58": "3XL" },
        { "60": "4XL" }
      ],
      "Мужской": [
        { "36": "2XS" },
        { "38": "XS" },
        { "40": "S" },
        { "42": "M" },
        { "44": "2XS" },
        { "44-46": "2XS-XS" },
        { "46": "XS" },
        { "46-48": "XS-S" },
        { "48": "S" },
        { "46-32": "S" },
        { "46-34": "S" },
        { "46-36": "S" },
        { "48-50": "S-M" },
        { "50": "M" },
        { "48-32": "M" },
        { "48-34": "M" },
        { "48-36": "M" },
        { "50-52": "M-L" },
        { "52": "L" },
        { "50-32": "L" },
        { "50-34": "L" },
        { "50-36": "L" },
        { "52-54": "L-XL" },
        { "54": "XL" },
        { "52-32": "XL" },
        { "52-34": "XL" },
        { "52-36": "XL" },
        { "54-56": "XL-2XL" },
        { "56": "2XL" },
        { "54-32": "2XL" },
        { "54-34": "2XL" },
        { "54-36": "2XL" },
        { "56-58": "2XL-3XL" },
        { "58": "3XL" },
        { "56-32": "3XL" },
        { "56-34": "3XL" },
        { "56-36": "3XL" },
        { "58-32": "4XL" },
        { "58-34": "4XL" },
        { "58-36": "4XL" },
        { "60-32": "5XL" },
        { "60-34": "5XL" },
        { "60-36": "5XL" }
      ]
    },
    "Джемперы": {
      "Мужской": [
        { "32-34": "XS" },
        { "34": "3XS" },
        { "34-36": "S" },
        { "36-38": "2XS" },
        { "38-40": "M" },
        { "40-42": "XS" },
        { "42": "XS" },
        { "42-44": "XS" },
        { "44-46": "S" },
        { "46": "S" },
        { "46-48": "M" },
        { "48-50": "M" },
        { "50": "M" },
        { "50-52": "L" },
        { "52-54": "L" },
        { "54": "L" },
        { "54-56": "2XL" },
        { "56-58": "XL" },
        { "58": "XL" },
        { "60-62": "XL" },
        { "62": "2XL" },
        { "64-66": "XL" },
        { "66": "3XL" }
      ],
      "Женский": [
        { "38": "2XS" },
        { "40-42": "XS" },
        { "42": "XS" },
        { "42-44": "S" },
        { "44": "S" },
        { "46": "M" },
        { "46-48": "M" },
        { "48": "L" },
        { "48-50": "L" },
        { "50": "XL" },
        { "52": "XL" },
        { "52-54": "XL" },
        { "54-56": "XL-2XL" },
        { "56-58": "2XL" },
        { "58-60": "2XL-3XL" }
      ]
    },
    "Куртки": {
      "Мужской": [
        { "34": "3XS" },
        { "36-38": "2XS" },
        { "40-42": "XS" },
        { "42": "XS" },
        { "42-44": "XS" },
        { "44": "S" },
        { "44-46": "S" },
        { "46": "S-M" },
        { "46-48": "M" },
        { "48": "M" },
        { "48-50": "M" },
        { "50-52": "L" },
        { "52-54": "XL" },
        { "54-56": "XL" },
        { "56-58": "XL" },
        { "58": "2XL" },
        { "60-62": "2XL" },
        { "64-66": "3XL" }
      ],
      "Женский": [
        { "38": "2XS" },
        { "40-42": "XS" },
        { "42": "XS" },
        { "42-44": "S" },
        { "44": "S" },
        { "46": "M" },
        { "46-48": "M" },
        { "48": "L" },
        { "48-50": "L" },
        { "50": "XL" },
        { "52-54": "XL" },
        { "56-58": "2XL" }
      ]
    },
    "Жилеты": {
      "Мужской": [
        { "42": "2XS" },
        { "44": "XS" },
        { "46": "S" },
        { "48-50": "M" },
        { "50-52": "L" },
        { "54": "XL" },
        { "56": "2XL" }
      ],
      "Женский": [
        { "40-42": "XS" },
        { "42-44": "S" },
        { "46-48": "M" },
        { "48-50": "L" },
        { "52-54": "XL" },
        { "54-56": "2XL" }
      ]
    },
    "Костюмы": {
      "Мужской": [
        { "34": "3XS" },
        { "36-38": "2XS" },
        { "40-42": "2XS" },
        { "42-44": "XS" },
        { "44-46": "S" },
        { "46-48": "M" },
        { "48": "M-L" },
        { "48-50": "L" },
        { "50-52": "XL" },
        { "56-58": "XL" },
        { "52-54": "2XL" },
        { "60-62": "2XL" },
        { "54-56": "3XL" },
        { "64-66": "3XL" }
      ],
      "Женский": [
        { "40-42": "XS" },
        { "42-44": "S" },
        { "44-46": "M" },
        { "46-48": "L" },
        { "48-50": "XL" }
      ]
    },
    "Поло": {
      "Мужской": [
        { "34": "3XS" },
        { "36-38": "2XS" },
        { "40-42": "2XS" },
        { "42-44": "XS" },
        { "44": "XS" },
        { "44-46": "S" },
        { "46": "S-M" },
        { "46-48": "M" },
        { "48": "M-L" },
        { "48-50": "L" },
        { "50": "L-XL" },
        { "50-52": "XL" },
        { "56-58": "XL" },
        { "52": "XL-2XL" },
        { "52-54": "2XL" },
        { "54": "2XL-3XL" },
        { "54-56": "3XL" },
        { "56": "3XL-4XL" },
        { "60-62": "2XL" },
        { "64-66": "3XL" }
      ]
    },
    "Рубашки": {
      "Мужской": [
        { "40-42": "2XS" },
        { "42-44": "XS" },
        { "44": "XS" },
        { "44-46": "S" },
        { "46": "S-M" },
        { "46-48": "M" },
        { "48": "M-L" },
        { "48-50": "L" },
        { "50": "L-XL" },
        { "50-52": "XL" },
        { "52": "XL-2XL" },
        { "52-54": "2XL" },
        { "54": "2XL-3XL" },
        { "54-56": "3XL" },
        { "56": "3XL-4XL" },
        { "56": "4XL" }
      ]
    },
    "Футболки": {
      "Мужской": [
        { "32-34": "XS" },
        { "34-36": "S" },
        { "38-40": "M" },
        { "40-42": "2XS" },
        { "42": "XS" },
        { "42-44": "XS" },
        { "44": "XS-S" },
        { "44-46": "S" },
        { "46": "S" },
        { "46-48": "XL" },
        { "48": "S-M" },
        { "46-48": "M" },
        { "48-50": "L" },
        { "50": "M" },
        { "52": "M-L" },
        { "50-52": "L" },
        { "54": "L" },
        { "58": "XL" },
        { "52-54": "XL" },
        { "54-56": "3XL" },
        { "56": "3XL" },
        { "54-56": "2XL" },
        { "60-62": "2XL" },
        { "62": "2XL" },
        { "56-58": "3XL" },
        { "66": "3XL" }
      ],
      "Женский": [
        { "38": "2XS" },
        { "40": "XS" },
        { "40-42": "XS" },
        { "42": "XS" },
        { "42-44": "S" },
        { "44": "S" },
        { "46": "M" },
        { "46-48": "M" },
        { "48": "L" },
        { "48-50": "L" },
        { "50": "XL" },
        { "50-52": "L" },
        { "52-54": "XL" },
        { "54-56": "XL" },
        { "56-58": "2XL" },
        { "58-60": "2XL" }
      ]
    },
    "Майки": {
      "Мужской": [
        { "40-42": "2XS" },
        { "42-44": "XS" },
        { "44-46": "S" },
        { "46-48": "M" },
        { "48-50": "L" },
        { "50-52": "XL" },
        { "52-54": "2XL" },
        { "54-56": "3XL" }
      ],
      "Женский": [
        { "38-40": "2XS" },
        { "40-42": "XS" },
        { "42-44": "S" },
        { "46-48": "M" },
        { "48-50": "L" },
        { "50-52": "XL" },
        { "52-54": "2XL" },
        { "54-56": "3XL" }
      ]
    },
    "Спортивные бра": {
      "Женский": [
        { "38": "2XS" },
        { "40-42": "XS" },
        { "42-44": "S" },
        { "46-48": "M" },
        { "48-50": "L" },
        { "52-54": "XL" },
        { "56-58": "2XL" }
      ]
    },
    "Юбки": {
      "Женский": [
        { "38-40": "2XS" },
        { "40": "XS" },
        { "40-42": "XS" },
        { "42-44": "S" },
        { "44": "S" },
        { "46-48": "M" },
        { "48-50": "L" },
        { "50": "L" },
        { "50-52": "XL" },
        { "52-54": "XL" },
        { "54-56": "3XL" },
        { "56": "2XL" },
        { "58": "3XL" }
      ]
    },
    "Платья": {
      "Женский": [
        { "38-40": "2XS" },
        { "40-42": "XS" },
        { "42-44": "S" },
        { "46-48": "M" },
        { "48-50": "L" },
        { "50-52": "XL" },
        { "52-54": "2XL" },
        { "54-56": "3XL" }
      ]
    },
    "Купальники": {
      "Женский": [
        { "40": "XS" },
        { "42": "S" },
        { "44": "M" },
        { "46": "L" },
        { "48": "XL" },
        { "50": "2XL" },
        { "52": "3XL" },
        { "54": "4XL" },
        { "56": "5XL" }
      ]
    },
    "Компрессионное белье": {
      "Мужской": [
        { "38-40": "3XS" },
        { "40-42": "2XS" },
        { "42-44": "XS" },
        { "44-46": "S" },
        { "46-48": "M" },
        { "48-50": "L" },
        { "50-52": "XL" },
        { "52-54": "2XL" },
        { "54-56": "3XL" }
      ]
    },
    "Носки": {
      "Мужской": [
        { "35-38": ['35','36','37','38'] },
        { "39-42": ['39','40','41','41'] },
        { "43-46": ['43','44','45','46'] },
        { "41-46": ['41','42','43','44','45','46'] },
        { "34-36": ['34','35','36'] },
        { "37-39": ['37','38','39'] },
        { "31-34": ['31','32','33','34'] },
        { "33-37": ['33','34','35','36','37'] },
        { "45-49": ['45','46','47','48','49'] }
      ]
    },
    "Бейсболки": {
      "Мужской": [
        { "54-56": 'XS-S' },
        { "55": 'XS-S' },
        { "56-58": 'S-M' },
        { "57": 'S-M' },
        { "59": 'M-L' },
        { "61": 'L-XL' }
      ],
      "Женский": [
        { "54-56": 'XS-S' },
        { "55": 'XS-S' },
        { "56-58": 'S-M' },
        { "57": 'S-M' },
        { "59": 'M-L' },
        { "61": 'L-XL' }
      ]
    },
    "Шапки": {
      "Мужской": [
        { "55-57": 'one size' },
        { "54-55": 'S-M' },
        { "55-60": 'L-XL' }
      ],
      "Женский": [
        { "55-57": 'one size' },
        { "54-55": 'S-M' },
        { "55-60": 'L-XL' }
      ]
    },
    "Перчатки": {
      "Мужской": [
        { "18-19": 'S-M' },
        { "19-20": 'S-M' },
        { "20-21": 'M' },
        { "21-22": 'L-XL' },
        { "22-23": 'L-XL' }
      ],
      "Женский": [
        { "18-19": 'S-M' },
        { "19-20": 'S-M' },
        { "20-21": 'M' },
        { "21-22": 'L-XL' },
        { "22-23": 'L-XL' }
      ]
    }
  };

  const { sizes, subcategory, gender } = params;

  if (
    sizeDict.hasOwnProperty(subcategory) &&
    sizeDict[subcategory].hasOwnProperty(gender)
  ) {
    const sizeMappings = sizeDict[subcategory][gender];
    const convertedSizes = [];

    for (const size of sizes) {
      for (const mapping of sizeMappings) {
        if (mapping.hasOwnProperty(size)) {
          convertedSizes.push(mapping[size]);
          break;
        }
      }
    }

    const result = []
    convertedSizes.map(size => {
      if (Array.isArray(size)) result.push(...size)
      else result.push(size.replaceAll('X', 'X').replaceAll('S', 'S'))
    })

    if (result.length > 0) {
      return [...new Set(result)]
    }
  }

  return sizes;
}
